<html>
<head>
  <title>3.4.1 正则</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win32);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1360"/>
<h1>3.4.1 正则</h1>

<div>
<span><div>//正则表达式，又称规则表达式。(英语：Regular Expression，在代码中常简写为regex、regexp或RE)，计算机科学的一个概念。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。</div><div><br/></div><div>//正则的写法：</div><div>    </div><div>    //var re = new RegExp('a');    // 类似 new Date() 类型 : 对象</div><div>    //简写：可以直接在斜杠中写字符，不会要引号</div><div>    //var re = /a/;</div><div>    //正则方法：test()</div><div>        // 写法：正则.test(指定的字符串)。</div><div>        // 规则：当正则在指定的字符串中匹配到了结果，就返回真，如果没匹配到结果就返回假。</div><div>    /*var str = 'hello JavaScript';</div><div>    </div><div>    var re = /ell/;</div><div>    if( re.test(str) ){</div><div>        console.log('真');</div><div>    }</div><div>    else{</div><div>        console.log('假');</div><div>    }*/    </div><div>    //正则中表示一类的元素：利用转义字符  \n   \'</div><div>    // \d : 数字 0-9</div><div>    // \D : 非数字</div><div>    // \s : 空格</div><div>    // \S : 非空格</div><div>    // \w : 字符( 字母a-z 数字0-9 下划线_ )</div><div>    // \W : 非字符</div><div>    //console.log( 'an\'b' );</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div>    var str = '74859437583945';</div><div>    var re = /\D/;</div><div>    if( re.test(str) ){</div><div>        console.log('有不是数字的');</div><div>    }</div><div>    else{</div><div>        console.log('都是数字');</div><div>    }</div></div><div><hr/><br/></div><div>// 正则方法：search()</div><div>    //      写法：指定的字符串.search(正则)。</div><div>    //      规则：当正则在指定的字符串中匹配到了结果，就返回对应的位置，如果没匹配到结果就返回-1。</div><div>    // 正则：默认区分大小写的。如果不区分大小写：加正则的标识符(i)。</div><div>    //     标识符的位置：在结束斜杠的后面</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div>    var str = 'hello JavaScript';</div><div>    </div><div>    var re = /java/i;</div><div>    //var re = new RegExp('java','i');</div><div>    console.log( str.search(re) );</div></div><div><br/></div><div><hr/>
// 正则方法：match()</div><div>    //      写法：指定的字符串.match(正则)。</div><div>    //      规则：当正则在指定的字符串中匹配到了结果，就返回对应的一个数组(把匹配到的结果放到数组里)，如果没匹配到结果就返回null。</div><div>    //正则默认：只要匹配到结果，就会停止匹配，返回结果。如果想继续进行整体的匹配，从后匹配到尾，无论匹配成功还是失败，加标识符 g</div><div>    //正则中匹配个数：量词</div><div>        //+ : 至少匹配一位  &gt;= 1</div><div>        //() : 把字符变成一个分组</div><div>    //var str = 'hsjd123kahs44dlkaj1213sdlkajlkdja789';</div><div>    //var re = /\d+/g;</div><div>    //var re = /(abc)+/;</div><div>    //console.log( str.match(re) );  // [&quot;123&quot;, &quot;44&quot;, &quot;1213&quot;, &quot;789&quot;]</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div>    var str = 'hsjd123px123pxkahs44dlkaj1213sd69pxlkajlkdja789%255pxdhjfkdhfjdf';</div><div><br/></div><div>    var re = /(\d+px)/g;</div></div><div><br/></div><div><hr/>
// 正则方法：replace()</div><div>    //      写法：指定的字符串.replace(正则,新的字符串)。</div><div>    //      规则：当正则在指定的字符串中匹配到了结果，然后用新的字符串去替换掉，如果没匹配到就不会有任何的修改。</div><div>        //并不会直接改变这个字符串，而是改变的为执行的结果。</div><div>   <br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span>    </span>var str = 'abcabc';</div><div>    var re = /bc/g;</div><div>    var result = str.replace(re,'d');</div><div><br/></div><div>    console.log(result);</div></div><div><br/></div><div><hr/>
正则中的或： |</div><div>    习近平    陆军   实战化军事</div><div>    习近平视察陆军某师时强调:抓实战化军事训练</div><div>    replace( ) : 第二个参数可以是字符串，也可以是一个函数</div><div>    <br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div>var re = /习近平|陆军|实战化军事/g;</div><div>    btn.onclick = function(){</div><div>        var content = t1.value;</div><div>        //var result = content.replace(re,'*');</div><div>        var result = content.replace(re, function(arg){</div><div>            var count = '';</div><div>            for(var i=0;i&lt;arg.length;i++){</div><div>                count += '*';</div><div>            }</div><div>            return count;</div><div>        });</div><div>                    </div><div>        t2.value = result;</div><div><br/></div><div>    };</div></div><div><hr/>
// 正则 : () : 1.分组 1+1*2 (1+1)*2</div><div>    //             2.子项 : 整体匹配类似父节点，局部匹配类似子节点</div><div>    //match(正则中不加g标识的时候，可以看到子项) replace</div><div>    //var str = 'abcd';</div><div>    //var re = /a(b)(c)/;</div><div>    //console.log( str.match(re) );  //结果：第一项是整体，第二项开始为子项</div><div>    // var str = '2018/1/5jdkfk/df';    // 2018_1_5jdkfk/df</div><div>    // var re = /(\d+)(\/)/g;</div><div>    // var result = str.replace(re,function(arg0,arg1,arg2){</div><div>    //     return arg1 + '_';  </div><div>    // });</div><div>    // console.log(result);</div><div>    //任意字符 : []</div><div>    //var str = 'abdc';</div><div>    //var re = /a[bde]c/;</div><div>    //var re = /a(b|d|e)c/;</div><div>    //范围：a-z  A-Z  0-9</div><div>    //范围组合：[a-z0-9]</div><div>    //var str = 'a8c';</div><div>    //var re = /a[\d]c/;</div><div>    //console.log( re.test(str) );</div><div>    //排除 ^</div><div>    //var str = 'abc';</div><div>    //var re = /a[^\d]c/;</div><div>    // var str = '&lt;div class=&quot;box&quot;&gt;你好&lt;/div&gt;&lt;p id=&quot;p1&quot;&gt;ppppppp&lt;/p&gt;';</div><div>    // var re = /&lt;[^&gt;]+&gt;/g;        //你好ppppppp</div><div>    // var result = str.replace(re,'');</div><div>    // console.log(result);</div><div>    //点 ：任意字符</div><div>    //匹配真正的点 : \.</div><div>    //var str = 'adc';</div><div>    //var re = /a.c/;</div><div>    //\1    重复子项 : 跟第一个子项是相同的内容</div><div>    //var str = 'abcd';</div><div>    //var re = /a(b)(c)(d)\3/;    //abcdd</div><div>    //var str = 'ddhjdskwwhdahhsd';  //[dd,ww,hh]</div><div>    //var re = /(\w)\1/g;</div><div>    //console.log( str.match(re) );</div><div>    //练习：</div><div>    var str = '&lt;div id=&quot;div1&quot;&gt;ddddd&lt;/div&gt;';    //√</div><div>    var str = '&lt;p class=&quot;p1&quot;&gt;ddddd&lt;/p&gt;';       //√</div><div>    var str = '&lt;div class=&quot;p1&quot;&gt;ddddd&lt;/p&gt;';     //×</div><div>    var str = '&lt;div class=&quot;p1&quot;&gt;ddddd';         //×</div><div><br/>
    var re = //;</div><div><hr/>
// 量词：</div><div>    </div><div>    // +   &gt;=1 至少匹配一位</div><div>    // *   &gt;=0 至少匹配零位</div><div>    // ?   0,1 匹配0位或者1位</div><div>    // {4,}  &gt;= 4 至少匹配4位</div><div>    // {4}    4   正好匹配4位</div><div>    // {4,10}  4~10  匹配4位到10位</div><div>    // +  -&gt;  {1,}</div><div>    // *  -&gt;  {0,}</div><div>    // ?  -&gt;  {0,1}</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div>    var str = 'aabc';</div><div>    var re = /a{2,10}/;</div><div><br/></div><div>    console.log(str.match(re));</div></div><div><br/></div></span>
</div></body></html> 