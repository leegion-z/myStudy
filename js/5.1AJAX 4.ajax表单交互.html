<html>
<head>
  <title>5.1AJAX 4.ajax表单交互</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win32);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="578"/>
<h1>5.1AJAX 4.ajax表单交互</h1>

<div>
<span><div><br/></div><div><br/></div><div>1、创建 XHR 对象     </div><div>    <span style="font-weight: bold;">var xhr = new XMLHttpRequest( ); </span>    </div><div>          </div><div>2、监听AJAX整个通信过程    </div><div>    <span style="font-weight: bold;">xhr.onreadystatechange = function(){</span></div><div>        //console.log( xhr.readyState );  // 4 请求已完成，且响应已就绪</div><div>       <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> if( xhr.readyState == 4 &amp;&amp; xhr.status == 200){</span></div><div>        console.log( xhr.responseText );</div><div>        }</div><div>   <span style="font-weight: bold;"> </span><span style="font-weight: bold;">};</span></div><div>      </div><div>3、请求AJAX通信    </div><div>    <span style="font-weight: bold;">xhr.open('GET','user.php?age=30',true);</span><span style="font-weight: bold;"> </span>     </div><div>               请求方式、请求地址、是否异步    </div><div>    <span style="font-weight: bold;">xhr.send( ); </span>   </div><div>                GET发送数据的时候，不需要设置send操作，send()通常是针对post请求的。xhr.send(null);           </div><div>                POST需要设置：xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');</div><div><br/></div><div><br/></div><div><hr/><div><span style="font-weight: bold;">readyState属性  </span>   </div></div><div>        每当 readyState 属性改变时，就会触发onreadystatechange事件。存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。    </div><div>            0: 请求未初始化    没有open</div><div>            1: 服务器连接已建立    </div><div>            2: 请求已接收    </div><div>            3: 请求处理中    </div><div>            4: 请求已完成，且响应已就绪   </div><div>      </div><div><span style="font-weight: bold;">status属性</span>        </div><div>        响应就绪对应的<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">http状态码</span>。常见状态码：200(成功)、302(重定向)、304(缓存)、403(服务器拒绝)、404(后台没有页面)、500(服务器错误)等。         </div><div><br/></div><div><span style="font-weight: bold;">responseText </span>  </div><div>        服务器<span style="font-weight: bold;">返回的文本</span></div><div><br/></div><div><hr/><div><br/></div></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">//GET 的 ajax请求</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">========================================xxx.html</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;body&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;form action=&quot;isReg.php&quot; method=&quot;POST&quot;&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;div&gt;用户名：&lt;input id=&quot;text1&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/form&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;div id=&quot;tips&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;script&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var text1 = document.getElementById('text1');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var tips = document.getElementById('tips');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    text1.onblur = function(){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var val = this.value.trim(); //<span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">去除字符串两边的空白</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //1. 创建内置的xhr对象，所有的AJAX操作都是在xhr对象下完成的</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var xhr = new XMLHttpRequest();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //2. 监听AJAX整个通信过程，最终接收到后台返回的结果response</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        xhr.onreadystatechange = function(){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            if(xhr.readyState==4 &amp;&amp; xhr.status==200){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                //xhr.responseText : 拿到后台response过来的结果数据</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                //console.log( xhr.responseText );</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                tips.innerHTML = xhr.responseText;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        };</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //3. 请求AJAX通信，去链接后台的操作</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //三个参数：请求方式、请求地址、是否异步:异步true,同步false</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">       <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">xhr.open('GET','ajaxGet.php?username='+val,true);</span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //4. 发送数据到后台，request操作</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        //get请求的时候，数据在网址的问号后面，所以send方法不用去操作了</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        xhr.send(null);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    };</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/script&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/body&gt;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">================================xxx.php</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;?PHP</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    header('Content-Type:text/html; charset=utf-8');</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    $con = mysqli_connect('localhost','root','','h51706');</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    mysqli_query($con,'set names utf8');</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    $username = $_REQUEST['username'];</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    $sql = &quot;select username from reg where username = '$username'&quot;;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    $query = mysqli_query($con,$sql);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    if($query &amp;&amp; mysqli_num_rows($query)){</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        echo '有人注册过了';</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    else{</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        echo '可以注册';</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">?&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div></div><div><br/></div><div><br/></div><div><hr/><br/></div><div>select 使用*的区别</div><div><img src="5.1AJAX 4.ajax表单交互_files/Image.png" type="image/png" style="height: auto;"/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [1].png" type="image/png" style="height: auto;"/></div><div><hr/><br/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [3].png" type="image/png" style="height: auto;"/></div><div><hr/><br/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [4].png" type="image/png" style="height: auto;"/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [5].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><hr/><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//POST的 ajax请求</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">========================================xxx.html</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;body&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;form action=&quot;isReg.php&quot; method=&quot;POST&quot;&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;div&gt;用户名：&lt;input id=&quot;text1&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;注册&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/form&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;div id=&quot;tips&quot;&gt;&lt;/div&gt;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;script&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var text1 = document.getElementById('text1');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    var tips = document.getElementById('tips');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    text1.onblur = function(){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var val = this.value.trim();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><br/></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        var xhr = new XMLHttpRequest();</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        xhr.onreadystatechange = function(){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            if(xhr.readyState==4 &amp;&amp; xhr.status==200){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">                tips.innerHTML = xhr.responseText;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">            }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        };</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">      </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">       </span><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">xhr.open('POST','ajaxGet.php',true);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"><b>        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');</b> <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> <span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">//post提交的时候，需要加上这样一句话  post提交的格式是字符串</span></span></span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        xhr.send('<span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">username='+val</span>);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    };</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    &lt;/script&gt;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;/body&gt;</span></div><div><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">================================xxx.php</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">&lt;?PHP</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    header('Content-Type:text/html; charset=utf-8');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    $con = mysqli_connect('localhost','root','','h51706');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    mysqli_query($con,'set names utf8');</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    $username = $_REQUEST['username'];</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    $sql = &quot;select username from reg where username = '$username'&quot;;</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    $query = mysqli_query($con,$sql);</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    if($query &amp;&amp; mysqli_num_rows($query)){</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        echo '有人注册过了';</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    else{</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">        echo '可以注册';</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    }</span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">    </span></div><div><span style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);">?&gt;</span></div></div><div><br/></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">//post 提交文件</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">========================================xxx.html</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">&lt;!--</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">    如果提交一个文件：必须用post提交</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">    </span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">    如果提交的是文件：</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">        提交类型 ：enctype=&quot;multipart/form-data&quot;</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">    如果提交的是字符串：</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">        提交类型 ：enctype=&quot;application/x-www-form-urlencoded&quot;(默认的)</span></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">--&gt;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;form action=&quot;data.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;div&gt;用户名：&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;div&gt;&lt;input type=&quot;file&quot; name=&quot;filename&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;&lt;/div&gt;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/form&gt;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;script&gt;</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">var xhr = new XMLHttpRequest();</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">xhr.onreadystatechange = function(){</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    if(xhr.readyState == 4 &amp;&amp; xhr.status == 200){</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        console.log(xhr.responseText);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">};</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">xhr.open('POST','data.php',true);</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');   <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">//post提交的时候，需要加上这样一句话</span></span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">xhr.send('username=hello');</span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&lt;/script&gt;</span></div><div><br/></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">=================================xxx.php</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><br/></div><div>阻止缓存 '&amp;t='+ new Date().getTime()</div><div><br/></div><div><br/></div><div>postman 软件测试 post和get请求</div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [6].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="5.1AJAX 4.ajax表单交互_files/Image [7].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div></span>
</div></body></html> 