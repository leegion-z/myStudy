<html>
<head>
  <title>2.3 路由 react-router</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win32);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="800"/>
<h1>2.3 路由 react-router</h1>

<div>
<span><div>react-router原理：</div><div>     两种模式：</div><div>          hash： 通过 hashchange 事件进行监听</div><div>          history/H5：H5的新特性 pushState replaceState popState 监视url改变，然后加载对应组件</div><div><br/></div><div><br/></div><div><img src="2.3 路由 react-router_files/Image.png" type="image/png" style="height: auto;"/></div><div><br/></div><div>安装 react router：  </div><div>npm install react-router</div><div>npm install react-router-dom</div><div><a href="https://github.com/ReactTraining/react-router">https://github.com/ReactTraining/react-router</a></div><div><br/></div><div>官方：<a href="https://reacttraining.com/react-router/web">https://reacttraining.com/react-router/web</a></div><div><br/></div><div><img src="2.3 路由 react-router_files/Image [1].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><br/></div><div><img src="2.3 路由 react-router_files/Image [2].png" type="image/png" style="height: auto;"/><img src="2.3 路由 react-router_files/Image [3].png" type="image/png" style="height: auto;"/><img src="2.3 路由 react-router_files/Image [4].png" type="image/png" style="height: auto;"/></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">========================================index.js</span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import React form &quot;react&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import ReactDOM from &quot;react-dom&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import Router form &quot;./Router&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">ReactDOM.render(Router,document.getElementById(&quot;box&quot;));</span></div><div style="background-color: rgb(251, 250, 248);"><br/></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">=================================App/index.js</span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import React,{Component} from &quot;react&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import &quot;./index.scss&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">import {NavLink} from &quot;react-router-dom&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">class App extends Component{</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">    constructor(){</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">        super();</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">    }</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">    render(){</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">        return &lt;div&gt;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">            &lt;ul&gt;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">                <span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">&lt;li&gt; </span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">                    &lt;<span style="color: rgb(227, 0, 0);">NavLink to=&quot;/home&quot; activeClassName=&quot;active&quot;&gt;home&lt;/NavLink&gt; </span></span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">                &lt;/li&gt;</span></span></div><div style="background-color: rgb(251, 250, 248);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">            &lt;/ul&gt;</span></div></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">            {</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">               </span> <span style="background-color: rgb(255, 250, 165); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;-evernote-highlight:true;">//路由容器</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">            }</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">            {this.prop.}</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">        &lt;div&gt;</span></div><div style="background-color: rgb(251, 250, 248);"><br/></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">    }</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">}</span></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;">export default App;</span></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><img src="2.3 路由 react-router_files/Image [5].png" type="image/png" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); height: auto;"/> or <img src="2.3 路由 react-router_files/Image [6].png" type="image/png" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); height: auto;"/></span></div></div><div style="background-color: rgb(251, 250, 248);"><br/></div><div style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-weight: bold;">================================Home/index.js</span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import React form &quot;react&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import React,{Component} from &quot;react&quot;;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import &quot;./index.scss&quot;</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">class Home extends Component{</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    constructor(){</span></div><div style="background-color: rgb(251, 250, 248);"><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    render(){</span></div><div style="background-color: rgb(251, 250, 248);"><br style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51);"/></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">export default Home;</span></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">================================Film/index.js</span></span></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import React form &quot;react&quot;;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import React,{Component} from &quot;react&quot;;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import &quot;./index.scss&quot;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">class Film extends Component{</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    constructor(){</span></div><div><span style="font-size: 12px;">        super( );</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    render( ){</span></div><div><span style="font-size: 12px;">        {</span></div><div><br/></div><div><span style="font-size: 12px;">        }</span></div><div><span style="font-size: 12px;">        <span style="font-size: 12px; font-weight: bold;">{ this.props.children }</span></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">export default Film;</span></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">================================detail/index.js</span></span></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><img src="2.3 路由 react-router_files/Image [7].png" type="image/png" style="height: auto;"/></span></div><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">================================Film/now/index.js</span></span></span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import React form &quot;react&quot;;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import React,{Component} from &quot;react&quot;;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import &quot;./index.scss&quot;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">class Film extends Component{</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    constructor(){</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        super( );</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        this.state = {</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">            data:[1,2,3]</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        }</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    render( ){</span></div><div><span style="font-size: 12px;">        return &lt;div&gt;</span></div><div><span style="font-size: 12px;">            &lt;ul&gt;</span></div><div><span style="font-size: 12px;">                {</span></div><div><span style="font-size: 12px;">                    this.state.list.map(item=&gt;</span></div><div><span style="font-size: 12px;">                        &lt;li key={item.id} onClick={this.legion}&gt;</span></div><div><span style="font-size: 12px;">                    )</span></div><div><span style="font-size: 12px;">                }</span></div><div><span style="font-size: 12px;">            &lt;/ul&gt;</span></div><div><span style="font-size: 12px;">        &lt;/div&gt;</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><br/></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    legion(id){</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">        <span style="color: rgb(227, 0, 0);"><span style="font-size: 9pt; font-family: Monaco; font-weight: bold;">this.props.history.push(`/detail/${id}`)</span></span></span></div><div><br/></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">}</span></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">export default Film;</span></div></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">=========================Router/index.js</span></span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import React form &quot;react&quot;;</span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">import</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">{</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    BrowserRouter</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">as</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">Router </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">,     <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">//起一个别名Router</span></span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    Route，</span></span></div><div style="font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    Redirect ,                                     </span> <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">//重定向</span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    Switch</span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">}</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">from</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">'react-router-dom'</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><br/></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import Home from &quot;../Components/Home&quot;;</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Card </span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">from &quot;../Components/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Card</span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&quot;;</span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">import</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Film </span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">from &quot;../Components/</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Film</span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">&quot;;</span></span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> App </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">from &quot;../Components/<span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">App</span></span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&quot;;</span></span></span></span></div><div><br/></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Now </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">from &quot;../Components/<span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Now </span></span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&quot;;</span></div><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">import</span> <span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Coming </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">from &quot;../Components/<span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Coming </span></span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">&quot;;</span></div><div><br/></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><br/></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><br/></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><br/></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">const router = (</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;Router&gt;</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        &lt;App&gt;</span></div><div style="font-size: 9pt;"><div><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco;">           </span> <span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">&lt;Switch</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&gt;                  </span> <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">//Switch 只加载到匹配到第一个孩子</span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                &lt;Route path=&quot;/home&quot; component={Home} /&gt;</span></span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">        &lt;Route path=&quot;/card&quot; component={Card} /&gt;</span></span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    </span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">        &lt;Route path=&quot;/film&quot; component={Film} /&gt;</span></span></span></span></div><div style="font-size: 9pt;"><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                </span></span></span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                &lt;Route path = &quot;/flim&quot; render={( )=&gt;</span></span></span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                    &lt;Film&gt; </span></span></span></span></div><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                       </span> <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">&lt;Switch&gt;</span></span></span></span></span></div><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">    </span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                        &lt;Route path=&quot;</span><span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;"><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">/flim</span>/now</span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&quot; component={Now}&gt;  </span> <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">//二级路由</span></span></span></span></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                            &lt;Route path=&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">/flim</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">/coming&quot; component={Coming}&gt;</span></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                            &lt;Redirect path=&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">/flim</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&quot; to=</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">/flim</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">/now</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&quot;</span><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&gt;</span></span></div></div><div><span style="font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                       </span> <span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">&lt;/Switch&gt;</span></span></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                    &lt;/Film&gt;</span></span></span></span></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                } /&gt;</span></span></span></span></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                </span></span></span></span></div></div><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                &lt;Route path=&quot;</span><span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">/datail/:id</span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&quot; component={detail}&gt;  </span><span style="background-color: rgb(255, 250, 165); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">//动态二级路由</span></span></span></span></span></div><div style="background-color: rgb(251, 250, 248);"><div><br/></div></div><div style="background-color: rgb(251, 250, 248);"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">                &lt;Redirect path=&quot;/&quot; to=&quot;/home&quot; /&gt;</span></span></span></span></span></div></div></div><div style="font-size: 9pt;"><div><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="font-size: 9pt;"><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">            &lt;/</span><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;-evernote-highlight:true;">Switch</span><span style="background-color: rgb(251, 250, 248); font-size: 9pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">&gt;</span></span></span></span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">        &lt;/App&gt;</span></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    &lt;/Router&gt;)</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><br/></div></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">export default router;</span></div><div style="background-color: rgb(251, 250, 248); font-size: 9pt;"><div><br/></div></div><div style="font-size: 9pt;"><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">// 正常路径 和 hash路径</span></div><div style="font-size: 9pt;"><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><img src="2.3 路由 react-router_files/Image [8].png" type="image/png" style="height: auto;"/></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"><br/></span></div><div style="background-color: rgb(251, 250, 248);"><div><img src="2.3 路由 react-router_files/Image [9].png" type="image/png" style="font-size: 9pt; height: auto;"/></div><div><br/></div><div>vue中</div><div><img src="2.3 路由 react-router_files/Image [10].png" type="image/png" style="font-size: 9pt; height: auto;"/></div><div><br/></div></div><div><span style="font-size: 9pt; background-color: rgb(255, 250, 165); color: rgb(51, 51, 51); font-family: Monaco;-evernote-highlight:true;">//hash模式下 多次点击 会报错</span></div><div style="background-color: rgb(251, 250, 248);"><span style="font-size: 9pt; background-color: rgb(251, 250, 248);"><img src="2.3 路由 react-router_files/Image [11].png" type="image/png" style="font-family: Monaco; font-size: 9pt; color: rgb(51, 51, 51); height: auto;"/></span></div></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 