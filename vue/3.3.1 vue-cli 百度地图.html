<html>
<head>
  <title>3.3.1 vue-cli 百度地图</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win32);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="700"/>
<h1>3.3.1 vue-cli 百度地图</h1>

<div>
<span><div><img src="3.3.1 vue-cli 百度地图_files/Image.png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div>脚手架：</div><div><span style="font-weight: bold;">1、npm install --save-dev vue-cli </span></div><div><br/></div><div>2、<img src="3.3.1 vue-cli 百度地图_files/Image [1].png" type="image/png" style="height: auto;"/></div><div>   <span style="font-weight: bold;"> vue init webpack-simple test1706</span></div><div><br/></div><div>模板：</div><div><img src="3.3.1 vue-cli 百度地图_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div>3、<span style="font-weight: bold;">cd test1706</span></div><div>    <span style="font-weight: bold;"> cnpm install</span></div><div><br/></div><div>4、<span style="font-weight: bold;">npm run dev</span></div><div><br/></div><div><br/></div><div>webpack .\src\index.js ./dist</div><div>webpack .\src\index.js .\dist\bundle.js.</div><div><br/></div><div><br/></div><hr/><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [3].png" type="image/png" style="height: auto;"/></div><div>vue脚手架自动热替换</div><div><br/></div><div><br/></div><div><b>1</b>、<img src="3.3.1 vue-cli 百度地图_files/Image [4].png" type="image/png" style="height: auto;"/> y 路由</div><div>    vue-router: 路由<br/></div><div><br/></div><div><b>2</b>、<img src="3.3.1 vue-cli 百度地图_files/Image [5].png" type="image/png" style="height: auto;"/>n</div><div>     ESLint :代码检测工具，<b>使用它可以避免低级错误和<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">统一代码</span>的风格.</b> 两个空格与tab大战</div><div>    *<b>可以关闭</b>(webpack.base.conf.js删除相应代码)</div><div><img src="3.3.1 vue-cli 百度地图_files/Image [6].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><b>3</b>、<img src="3.3.1 vue-cli 百度地图_files/Image [7].png" type="image/png" style="height: auto;"/> 单元测试 n</div><div>    Karma + Mocha :单元测试，保证代码质量<br/></div><div><br/></div><div><b>4</b>、<img src="3.3.1 vue-cli 百度地图_files/Image [8].png" type="image/png" style="height: auto;"/> n</div><div>    Nightwatch:端到端测试(功能测试)，站在用户视角，功能测试，而非代码细节，比如表单、动画、页面跳转、dom渲染、Ajax等    <br/></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [9].png" type="image/png" style="height: auto;"/></div><div><br/></div><div>（yarn并行安装，可以锁住版本）</div><div><br/></div><div><br/></div><hr/><div><b>webpack模板： </b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [10].png" type="image/png" style="height: auto;"/></div><div><br/></div><hr/><hr/><div><br/></div><div><b>config文件夹</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [11].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>在index.js中配置 反向代理</b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><b>proxyTable: {</b></div><div><b>        '/v4': {//路径的匹配规则，以/v4开头的路径自动代理到目标服务器</b></div><div><b>                    target: 'https://m.maizuo.com', //目标服务器</b></div><div><b>            　　　　 changeOrigin: true, //开启代理</b></div><div><b>             　　　　pathRewrite: { '^/v4': '/v4' }  //这里重写路径/run就代理到对应地址</b></div><div><b>            　　}</b></div><div><b>    },</b></div></div><div><br/></div><hr/><hr/><div><b><br/></b></div><div><b><br/></b></div><div><b>index.html 引swiper的js&amp;css文件</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [12].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><b>引入百度地图js</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [13].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><hr/><hr/><div><br/></div><div><br/></div><div><b>src文件夹</b></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [14].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>App.vue ：最上层组件</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [15].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [16].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [17].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>scoped只对当前组件有影响，防止css作用域污染</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [18].png" type="image/png" style="height: auto;"/></div><hr/><div><br/></div><div><b>components/xxx.vue </b></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [19].png" type="image/png" style="height: auto;"/></div><div><br/></div><hr/><div><b>main.js 引入组件 &amp; 自定义指令</b></div><div><b><br/></b></div><div><b>//全局注册</b></div><div><b>1、</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [20].png" type="image/png" style="height: auto;"/></div><div><b>2、</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [21].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>//or局部注册 （component/xxx2.js里）</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [22].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>//全局自定义指令  另种方法见3.3.3</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [23].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [24].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><hr/><div><b>component/swiper.vue</b></div><div><a href="http://www.swiper.com.cn/download/index.html">http://www.swiper.com.cn/download/index.html</a></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;template&gt;</div><div>    &lt;div class=&quot;swiper&quot;&gt;</div><div>        &lt;div class=&quot;<span style="color: rgb(227, 0, 0);"><b>swiper-container</b></span>&quot;&gt;</div><div>          &lt;div class=&quot;swiper-wrapper&quot;&gt;</div><div>            <b>&lt;div v-for=&quot;item in lunData&quot; class=&quot;swiper-slide&quot;&gt;</b></div><div>                &lt;img :src=&quot;item.imageUrl&quot; /&gt;</div><div>            &lt;/div&gt;</div><div>          &lt;/div&gt;</div><div>        &lt;/div&gt;</div><div>    &lt;/div&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div>&lt;script&gt;</div><div>    <b><span style="color: rgb(227, 0, 0);">import axios from 'axios';</span></b></div><div>    export default {</div><div>        name: &quot;lun-comp&quot;,</div><div>        data: function(){</div><div>            return {</div><div>                lunData: []</div><div>            }</div><div>        },</div><div>        <u>mounted: function() {</u></div><div><u>            this.getLunData();</u></div><div><u>        }</u>,</div><div>        methods: {</div><div>            getLunData: function() {</div><div>                <b><span style="color: rgb(227, 0, 0);">var that = this;</span></b></div><div>                <b>// 调用ajax接口</b></div><div>                <span style="color: rgb(227, 0, 0);"><b>a<u>xios.get</u></b></span><u><span style="color: rgb(227, 0, 0);">(<b>'/v4</b></span>/api/billboard/home?__t=1510192699833')</u></div><div><u>                  .then(<b>function (response) {</b></u></div><div><u><b>                    console.log(response);</b></u></div><div>                    that.lunData = <span style="color: rgb(123, 0, 61);"><span style="color: rgb(227, 0, 0);"><b>response.data.data.billboards</b>;</span></span></div><div><br/></div><div>                    <b><span style="color: rgb(227, 0, 0);">that.$nextTick</span></b>(function(){</div><div>                        <span style="color: rgb(227, 0, 0);">v<b>ar mySwiper = new Swiper</b></span>('.swiper-container', {</div><div>                              <span style="color: rgb(227, 0, 0);"><b>autoplay: {</b></span></div><div><span style="color: rgb(227, 0, 0);"><b>                                delay: 2500,</b></span></div><div><span style="color: rgb(227, 0, 0);"><b>                                disableOnInteraction: false,</b></span></div><div><span style="color: rgb(227, 0, 0);"><b>                              },</b></span></div><div><span style="color: rgb(227, 0, 0);"><b>                              loop: true //无缝</b></span></div><div>                        })</div><div>                    })</div><div>                  })</div><div>                  .catch(function (error) {</div><div>                    console.log(error);</div><div>                  });</div><div>            }</div><div>        }</div><div>    }</div><div>&lt;/script&gt;</div><div><br/></div><div>&lt;style scoped&gt;</div><div>    .swiper {</div><div><br/></div><div>    }</div><div>&lt;/style&gt;</div></div><div><br/></div><hr/><div><b>axios 插件 (vue react最常用的ajax插件)</b></div><div><a href="https://www.npmjs.com/package/axios">https://www.npmjs.com/package/axios</a></div><div><br/></div><div><b>cnpm install axios --save</b></div><div><b><br/></b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [25].png" type="image/png" style="height: auto;"/></div><div><b><br/></b></div><hr/><div><b><br/></b></div><div><b>component/list.vue  路由：不同url展示不同的界面，切换页面不刷新，可以实现单页面应用spa（用户体验好）</b></div><div><b><br/></b></div><div><b>静态</b></div><div>     &lt;<span style="color: rgb(227, 0, 0);">router-link</span><span style="color: rgb(227, 0, 0);">to=&quot;/home</span>&quot;&gt;</div><div><b>动态</b></div><div>     &lt;<span style="color: rgb(227, 0, 0);">router-link</span><span style="color: rgb(227, 0, 0);">:to=&quot;{name:'Detail', params:{fid: item.id}, query: {abc: 123}}</span>&quot;&gt;</div><div><b>子路由（</b><b>嵌套路由</b> <b>、二级路由）</b></div><div><b>     </b><span style="color: rgb(227, 0, 0);">&lt;router-link to=&quot;/detail/3963/sub1&quot;&gt;正在上映&lt;/router-link&gt;</span></div><div><br/></div><div><b><br/></b></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;template&gt;</div><div>    &lt;div class=&quot;films&quot;&gt;</div><div>        &lt;div&gt;电影列表&lt;/div&gt;</div><div>        &lt;ul&gt;</div><div>            &lt;li <span style="color: rgb(227, 0, 0);">v-for=&quot;item in films&quot;</span>&gt;</div><div>                &lt;<span style="color: rgb(227, 0, 0);">router-link</span> <span style="color: rgb(227, 0, 0);">:to=&quot;{name:'Detail', params:{fid: item.id}, query: {abc: 123}}</span>&quot;&gt;</div><div>                    &lt;h3&gt;{{item.name}}&lt;/h3&gt;</div><div>                    &lt;img :src=&quot;item.cover.origin&quot; /&gt;</div><div>                &lt;<span style="color: rgb(227, 0, 0);"><b>/router-link</b></span>&gt;</div><div>            &lt;/li&gt;</div><div>        &lt;/ul&gt;</div><div><span style="color: rgb(227, 0, 0);">      &lt;router-link to=&quot;/detail/3963/sub1&quot;&gt;正在上映&lt;/router-link&gt;</span></div><div><br/></div><div>    &lt;/div&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div>&lt;script&gt;</div><div>    <span style="color: rgb(227, 0, 0);">import axios from 'axios';</span></div><div>    export default {</div><div>        name: &quot;film-list&quot;,</div><div>        data: function() {</div><div>            return {</div><div>                films: []</div><div>            }</div><div>        },</div><div>        <span style="color: rgb(227, 0, 0);">mounted: function() {</span></div><div><span style="color: rgb(227, 0, 0);">            this.getFilms();</span></div><div><span style="color: rgb(227, 0, 0);">        },</span></div><div>        methods: {</div><div>            getFilms: function() {</div><div>                var that = this;</div><div>                <span style="color: rgb(227, 0, 0);">axios.get(&quot;/v4/api/film/now-playing?__t=1510192699843&amp;page=1&amp;count=5&quot;)</span></div><div><span style="color: rgb(227, 0, 0);">                .then(function(res){</span></div><div><span style="color: rgb(227, 0, 0);">                    console.log(res);</span></div><div>                    that.films = res.data.data.films;</div><div>                })</div><div>            }</div><div>        }</div><div>    }</div><div>&lt;/script&gt;</div><div><br/></div><div>&lt;style scoped&gt;</div><div>    .films {</div><div><br/></div><div>    }</div><div>&lt;/style&gt;</div></div><div><b><br/></b></div><hr/><div><b><br/></b></div><div><b>component/header.vue  侧边栏动画、百度定位 </b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [26].png" type="image/png" style="height: auto;"/></div><div><b><br/></b></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;template&gt;</div><div>    &lt;div class=&quot;header&quot;&gt;</div><div>        &lt;i <span style="color: rgb(227, 0, 0);">@click=&quot;displayFlag = !displayFlag&quot;</span>&gt;菜单&lt;/i&gt;</div><div>        &lt;h2&gt;电影网&lt;/h2&gt;</div><div>        &lt;span class=&quot;city&quot;&gt;{{city}}&lt;/span&gt;</div><div>        &lt;<span style="color: rgb(227, 0, 0);">transition name=&quot;css&quot;</span>&gt;</div><div>            &lt;div class=&quot;menu&quot; <span style="color: rgb(227, 0, 0);">v-if=&quot;displayFlag&quot;</span>&gt;</div><div>                &lt;ul&gt;</div><div>                    &lt;li&gt;首页&lt;/li&gt;</div><div>                    &lt;li&gt;影片&lt;/li&gt;</div><div>                    &lt;li&gt;&lt;<span style="color: rgb(227, 0, 0);">router-link</span> <span style="color: rgb(227, 0, 0);">@click.native</span>=&quot;displayFlag=false&quot; :to=&quot;{name: 'Orders', params: {oid: 12345678}}&quot;&gt;订单&lt;/router-link&gt;&lt;/li&gt;</div><div>                &lt;/ul&gt;</div><div>            &lt;/div&gt;</div><div>        &lt;<span style="color: rgb(227, 0, 0);">/transition</span>&gt;</div><div>    &lt;/div&gt;</div><div>&lt;/template&gt;</div><div><br/></div><div>&lt;script&gt;</div><div>    export default {</div><div>        name: &quot;header-comp&quot;,</div><div>        data: function(){</div><div>            return {</div><div>                city: &quot;&quot;,</div><div>                displayFlag: false</div><div>            }</div><div>        },</div><div>        <span style="color: rgb(227, 0, 0);">mounted: function() {</span></div><div><span style="color: rgb(227, 0, 0);">            var that = this;</span></div><div><span style="color: rgb(227, 0, 0);">            function myFun(result){</span></div><div><span style="color: rgb(227, 0, 0);">                var cityName = result.name;</span></div><div><span style="color: rgb(227, 0, 0);">                // alert(&quot;当前定位城市:&quot;+cityName);</span></div><div><span style="color: rgb(227, 0, 0);">                that.city = cityName;</span></div><div><span style="color: rgb(227, 0, 0);">            }</span></div><div><span style="color: rgb(227, 0, 0);">            var myCity = new BMap.LocalCity();</span></div><div><span style="color: rgb(227, 0, 0);">            myCity.get(myFun);</span></div><div><span style="color: rgb(227, 0, 0);">        }</span></div><div>    }</div><div>&lt;/script&gt;</div><div><br/></div><div>&lt;style scoped&gt;</div><div>    .header {</div><div>        background: #333;</div><div>        color: #fff;</div><div>        height: 45px;</div><div>        line-height: 45px;</div><div>    }</div><div>    .header i {</div><div>        float: left;</div><div>    }</div><div>    .header h2 {</div><div>        display: inline-block;</div><div>        margin: 0;</div><div>        padding: 0;</div><div>    }</div><div>    .city {</div><div>        float: right;</div><div>    }</div><div>    .menu {</div><div>        z-index: 2;</div><div>        width: 80%;</div><div>        position: fixed;</div><div>        top: 45px;</div><div>        height: 100%;</div><div>        background: #333;</div><div>    }</div><div>    <span style="color: rgb(227, 0, 0);">.css-enter</span> {</div><div>        left: -500px;</div><div>        opacity: 0;</div><div>    }</div><div>    <span style="color: rgb(227, 0, 0);">.css-enter-to</span> {</div><div>        left: 0;</div><div>        opacity: 1;</div><div>        transition-duration: 0.6s;</div><div>    }</div><div><br/></div><div>    <span style="color: rgb(227, 0, 0);">.css-leave</span> {</div><div>        left: 0;</div><div>        opacity: 1;</div><div>    }</div><div>    <span style="color: rgb(227, 0, 0);">.css-leave-to</span> {</div><div>        left: -800px;</div><div>        opacity: 0;</div><div>        transition-duration: 0.4s;</div><div>    }</div><div>&lt;/style&gt;</div></div><div><b><br/></b></div><hr/><div><b><br/></b></div><div><b>router/index.js 配置路由</b></div><div><b><br/></b></div><div><b><br/></b></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>import Vue from 'vue'</div><div>import Router from 'vue-router'</div><div>import Home from '@/components/Home'</div><div>import Detail from '@/components/Detail'</div><div>import Orders from '@/components/Orders'</div><div>import Sub1 from '@/components/Sub1'</div><div>import Sub2 from '@/components/Sub2'</div><div><br/></div><div>Vue.use(Router)</div><div><br/></div><div>export default new Router({</div><div>  routes: [</div><div>    {</div><div>      path: '/',</div><div>      name: 'Home',</div><div>      component: Home</div><div>    },</div><div>    <span style="color: rgb(227, 0, 0);">{</span></div><div><span style="color: rgb(227, 0, 0);">      path: '/orders/:oid(\\d{8})',  //可以写正则 oid必须是8位数</span></div><div><span style="color: rgb(227, 0, 0);">      name: 'Orders',</span></div><div><span style="color: rgb(227, 0, 0);">      component: Orders</span></div><div><span style="color: rgb(227, 0, 0);">    },</span></div><div><span style="color: rgb(227, 0, 0);">     {</span></div><div style="margin-left:40px;"><span style="color: rgb(227, 0, 0);">  path: '/orders/:oid?', //不需要写params的时候</span></div><div style="margin-left:40px;"><span style="color: rgb(227, 0, 0);">  name: 'Orders',</span></div><div style="margin-left:40px;"><span style="color: rgb(227, 0, 0);">  component: Orders</span></div><div><span style="color: rgb(227, 0, 0);">    },</span></div><div>    <span style="color: rgb(227, 0, 0);">{</span></div><div><span style="color: rgb(227, 0, 0);">      path: '/detail/:fid', // 动态路由传参</span></div><div><span style="color: rgb(227, 0, 0);">      name: 'Detail',</span></div><div><span style="color: rgb(227, 0, 0);">      component: Detail,</span></div><div><span style="color: rgb(227, 0, 0);">      /*</span></div><div><span style="color: rgb(227, 0, 0);">      children: [          //子路由、嵌套路由、二级路由</span></div><div><span style="color: rgb(227, 0, 0);">        {</span></div><div><span style="color: rgb(227, 0, 0);">          path: 'sub1',</span></div><div><span style="color: rgb(227, 0, 0);">          name: 'Sub1',</span></div><div><span style="color: rgb(227, 0, 0);">          component: Sub1</span></div><div><span style="color: rgb(227, 0, 0);">        },</span></div><div><span style="color: rgb(227, 0, 0);">        {</span></div><div><span style="color: rgb(227, 0, 0);">          path: 'sub2',</span></div><div><span style="color: rgb(227, 0, 0);">          name: 'Sub2',</span></div><div><span style="color: rgb(227, 0, 0);">          component: Sub2</span></div><div><span style="color: rgb(227, 0, 0);">        }</span></div><div><span style="color: rgb(227, 0, 0);">      ]</span></div><div><span style="color: rgb(227, 0, 0);">     */<br/></span></div><div><span style="color: rgb(227, 0, 0);">    }</span></div><div>  ]</div><div>})</div><div><br/></div></div><div><b><br/></b></div><hr/><div><b><br/></b></div><div><b>components/detail.vue</b></div><div><b><br/></b></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);">&lt;template&gt;</span></div><div><span style="color: rgb(51, 51, 51);">    &lt;div&gt;</span></div><div><span style="color: rgb(51, 51, 51);">        详情页</span></div><div><span style="color: rgb(51, 51, 51);">        {{</span><span style="color: rgb(227, 0, 0);">this.$route.params.fid</span><span style="color: rgb(51, 51, 51);">}}</span></div><div><span style="color: rgb(51, 51, 51);">        {{</span><span style="color: rgb(227, 0, 0);">this.$route.query.abc</span><span style="color: rgb(51, 51, 51);">}}  </span></div><div><span style="color: rgb(51, 51, 51);">        &lt;</span>div <span style="color: rgb(227, 0, 0);"><b>v-if=&quot;film&quot;</b></span><span style="color: rgb(51, 51, 51);">&gt;</span></div><div><span style="color: rgb(51, 51, 51);">            &lt;img :src=&quot;film.poster.origin&quot; /&gt;</span></div><div><span style="color: rgb(51, 51, 51);">        &lt;/div&gt;</span></div><div><span style="color: rgb(51, 51, 51);">    &lt;/div&gt;</span></div><div><span style="color: rgb(51, 51, 51);">&lt;/template&gt;</span></div><div><span style="color: rgb(51, 51, 51);">&lt;script&gt;</span></div><div><span style="color: rgb(51, 51, 51);">    import axios from 'axios';</span></div><div><span style="color: rgb(51, 51, 51);">    export default {</span></div><div><span style="color: rgb(51, 51, 51);">        name: &quot;detail&quot;,</span></div><div><span style="color: rgb(51, 51, 51);">        data: function() {</span></div><div><span style="color: rgb(51, 51, 51);">            return {</span></div><div><span style="color: rgb(51, 51, 51);">               </span> <span style="color: rgb(227, 0, 0);">film: null</span></div><div><span style="color: rgb(51, 51, 51);">            }</span></div><div><span style="color: rgb(51, 51, 51);">        },</span></div><div><span style="color: rgb(51, 51, 51);">       </span> <span style="color: rgb(227, 0, 0);">mounted:</span> <span style="color: rgb(51, 51, 51);">function() {</span></div><div><span style="color: rgb(51, 51, 51);">           </span> <span style="color: rgb(227, 0, 0);">console.log(this);</span></div><div><span style="color: rgb(51, 51, 51);">            this.getDetailData();</span></div><div><span style="color: rgb(51, 51, 51);">        },</span></div><div><span style="color: rgb(51, 51, 51);">        methods: {</span></div><div><span style="color: rgb(51, 51, 51);">            getDetailData: function() {</span></div><div><span style="color: rgb(51, 51, 51);">                var that = this;</span></div><div><span style="color: rgb(51, 51, 51);">                axios.get(`/v4/api/film/</span><span style="color: rgb(227, 0, 0);"><b>${this.$route.params.fid}</b></span><span style="color: rgb(51, 51, 51);">?__t=1510214343602`)</span></div><div><span style="color: rgb(51, 51, 51);">               </span> <span style="color: rgb(227, 0, 0);">.then</span><span style="color: rgb(51, 51, 51);">(function(res){</span></div><div><span style="color: rgb(51, 51, 51);">                    console.log(res);</span></div><div><span style="color: rgb(51, 51, 51);">                   </span> <span style="color: rgb(227, 0, 0);">that.film = res.data.data.film</span><span style="color: rgb(51, 51, 51);">;</span></div><div><span style="color: rgb(51, 51, 51);">                })</span></div><div><span style="color: rgb(51, 51, 51);">            }</span></div><div><span style="color: rgb(51, 51, 51);">        }</span></div><div><span style="color: rgb(51, 51, 51);">    }</span></div><div><span style="color: rgb(51, 51, 51);">&lt;/script&gt;</span></div><div><span style="color: rgb(51, 51, 51);">&lt;style&gt;&lt;/style&gt;</span></div></div><div><b><br/></b></div><div><b><br/></b></div><hr/><hr/><div><b><br/></b></div><div><b><br/></b></div><div>百度地图api</div><div><a href="http://lbsyun.baidu.com/index.php?title=jspopular/guide/helloworld">http://lbsyun.baidu.com/index.php?title=jspopular/guide/helloworld</a></div><div><br/></div><div><b>在index.html引入</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [27].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><b>ak值 在网站 控制台一栏 取得</b></div><div><img src="3.3.1 vue-cli 百度地图_files/Image [28].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 